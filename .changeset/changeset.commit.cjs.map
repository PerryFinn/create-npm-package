{"version":3,"sources":["../scripts/changeset.commit.ts"],"sourcesContent":["import type { Changeset, CommitFunctions, ReleasePlan } from \"@changesets/types\";\n\ntype SkipCI = boolean | \"add\" | \"version\";\n\nconst getAddMessage: CommitFunctions[\"getAddMessage\"] = async (\n  changeset: Changeset,\n  options: { skipCI?: SkipCI } | null\n) => {\n  const skipCI = options?.skipCI === \"add\" || options?.skipCI === true;\n  const skipMsg = skipCI ? \"\\n\\n[skip ci]\\n\" : \"\";\n  return `docs(changeset): ${changeset.summary}${skipMsg}`;\n};\n\nconst getVersionMessage: CommitFunctions[\"getVersionMessage\"] = async (\n  releasePlan: ReleasePlan,\n  options: { skipCI?: SkipCI } | null\n) => {\n  const skipCI = options?.skipCI === \"version\" || options?.skipCI === true;\n  const publishableReleases = releasePlan.releases.filter((release) => release.type !== \"none\");\n  const numPackagesReleased = publishableReleases.length;\n\n  if (publishableReleases.length === 1) {\n    const release = publishableReleases[0];\n    if (!release) {\n      throw new Error(\"release info is undefined\");\n    }\n    return `chore(release): ${release.name}@${release.newVersion}`;\n  }\n\n  const releasesLines = publishableReleases.map((release) => `  ${release.name}@${release.newVersion}`).join(\"\\n\");\n\n  return `chore(release): releasing ${numPackagesReleased} package(s)\n\nReleases:\n${releasesLines}\n${skipCI ? \"\\n[skip ci]\\n\" : \"\"}`;\n};\n\nconst defaultCommitFunctions: Required<CommitFunctions> = {\n  getAddMessage,\n  getVersionMessage\n};\n\nexport default defaultCommitFunctions;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,IAAM,gBAAkD,OACtD,WACA,YACG;AACH,QAAM,SAAS,SAAS,WAAW,SAAS,SAAS,WAAW;AAChE,QAAM,UAAU,SAAS,oBAAoB;AAC7C,SAAO,oBAAoB,UAAU,OAAO,GAAG,OAAO;AACxD;AAEA,IAAM,oBAA0D,OAC9D,aACA,YACG;AACH,QAAM,SAAS,SAAS,WAAW,aAAa,SAAS,WAAW;AACpE,QAAM,sBAAsB,YAAY,SAAS,OAAO,CAAC,YAAY,QAAQ,SAAS,MAAM;AAC5F,QAAM,sBAAsB,oBAAoB;AAEhD,MAAI,oBAAoB,WAAW,GAAG;AACpC,UAAM,UAAU,oBAAoB,CAAC;AACrC,QAAI,CAAC,SAAS;AACZ,YAAM,IAAI,MAAM,2BAA2B;AAAA,IAC7C;AACA,WAAO,mBAAmB,QAAQ,IAAI,IAAI,QAAQ,UAAU;AAAA,EAC9D;AAEA,QAAM,gBAAgB,oBAAoB,IAAI,CAAC,YAAY,KAAK,QAAQ,IAAI,IAAI,QAAQ,UAAU,EAAE,EAAE,KAAK,IAAI;AAE/G,SAAO,6BAA6B,mBAAmB;AAAA;AAAA;AAAA,EAGvD,aAAa;AAAA,EACb,SAAS,kBAAkB,EAAE;AAC/B;AAEA,IAAM,yBAAoD;AAAA,EACxD;AAAA,EACA;AACF;AAEA,IAAO,2BAAQ;","names":[]}